<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>html5 engine</title>
	</head>
	<style type="text/css">
		#box{
			background-color:#F0F0F0;
		}
	</style>
	<body>
		旋转角度:<input id="angle" type="number"/>
		<button id="submit" onclick="rotate()">确定</button>
		<br/>
		<canvas id="box" width="900" height="600">
			no canvas
		</canvas>
	</body>
	<script type="text/javascript" src="jquery2x.js"></script>
	<script type="text/javascript" >
		var box;
		var cWidth;
		var cHeight;
		var cx;

		var p = new Image();
		p.src = '../imgs/p2.jpg';

		$(document).ready(function() {
			box = $("#box").get(0);
			cWidth = $("#box").width();
			cHeight = $("#box").height();
			cx = box.getContext("2d");
			
			cx.fillStyle = '#B9B2EC';
			cx.fillRect(0,0,250,250);
			
			p.onload = function(){
				cx.drawImage(p,250,250,p.width,p.height);
                cx.translate(250,250);
			};
			/*
			$(p).ready(function(){
				cx.drawImage(p,250,250,p.width,p.height);
			});
			*/
		});
		
		function rotate(){
			var angle = parseInt($('#angle').val());
			var angle2 = angle/180*Math.PI;
			cx.rotate(angle2);
			cx.drawImage(p,0,0,p.width,p.height);
		}
	</script>
</html>
